<% provide(:title, t(".edit_choice_set")) %>

<div class="panel-body">
  <%= @field.describe %> 
  <%= react_component('ChoiceSetInput',
    props: {
      data: @field.describe,
      items: @field.describe,
      shortInputName: "choice_set[choices_attributes][0][short_name_en]",
      longInputName: "choice_set[choices_attributes][0][long_name_en]",
      categoryInputName: "choice_set[choices_attributes][0][category_name_en]",
      srcShortId: "choice_set_choices_attributes_0_short_name_en",
      srcLongId: "choice_set_choices_attributes_0_long_name_en",
      srcCategoryId: "choice_set_choices_attributes_0_category_en",
      # srcCategoryId: "choice_set_choices_attributes_0_category_name_en",
      choiceNameLabel: t('.choices'),
      shortNameLabel: t('.short_name'),
      longNameLabel: t('.long_name_optional'),
      categoryNameLabel: t('.category_optional'),
      updateButtonLabel: t(".update_choice_set"),
      cancelButtonLabel: t(".cancel"),
      addChoiceLabel: t(".add_choice"),
      removeChoiceLabel: "Remove",
      addChildrenChoiceLabel: "Add children"
    },
    prerender: false) %>

  <%= bootstrap_form_for(
        @field,
        :url => catalog_admin_choice_set_path) do |f| %>

    <%= render("common_form_fields", :f => f) %>
        <div class="col-md-12">
            <%= f.primary(t(".update_choice_set")) %>
            <%= link_to(
                  t("cancel"),
                  catalog_admin_choice_sets_path,
                  :class => "btn btn-link") %>
        </div>
  <% end %>
</div>
