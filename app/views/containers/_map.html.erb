<textarea id="geojson-<%= container.item_type %>" style="display: none;"><%= container.geojson %></textarea>
<div id="map-<%= container.item_type %>" style="width: 100%; height: 400px;"></div>

<script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>
<link href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.css" rel="stylesheet" />
<link href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css" rel="stylesheet" />

<script type="text/javascript">
  var map = L.map('map-<%= container.item_type %>').setView([51.505, -0.09], 13);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
    maxZoom: 18
  }).addTo(map);

  var fc = JSON.parse(document.getElementById('geojson-<%= container.item_type %>').innerText);
  var items_layer = L.geoJSON(fc);
  var fc_group = L.markerClusterGroup();
  fc_group.addLayer(items_layer)
  map.addLayer(fc_group);
</script>
